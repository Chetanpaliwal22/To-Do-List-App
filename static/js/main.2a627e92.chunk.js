(this["webpackJsonpto-do-app"]=this["webpackJsonpto-do-app"]||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),o=a(21),r=a.n(o),i=(a(75),a(15)),c=a(16),l=a(18),d=a(17),u=(a(62),a(30)),h=a(42),p=a.n(h),j=a(58),m=a(22),g=(a(77),a(4));var b=function(e){return Object(g.jsxs)("div",{className:"todo-item",children:[Object(g.jsx)("label",{children:Object(g.jsx)("input",{type:"radio",checked:"completed"===e.item.status,onChange:function(){return e.handleChange(e.item.userId)}})}),Object(g.jsx)("p",{children:e.item.task})]})},f=a(26),O=a.n(f),v=O.a.initializeApp({apiKey:"AIzaSyB0SROk4amzArI8RzE-omf2dNsMyvFQ6YY",authDomain:"to-do-list-app-25482.firebaseapp.com",projectId:"to-do-list-app-25482",storageBucket:"to-do-list-app-25482.appspot.com",messagingSenderId:"580095436319",appId:"1:580095436319:web:79a40bdf16348bba38d72a"}).firestore(),x=a(112),w=a(113),S=a(122),k=a(114),P=a(115),I=a(120),T=a(24),N=(a(89),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.toggleCompletedTaskMode,a=e.toggleSigninPopup,s=e.toggleSignupPopup,n=e.handleLogOut,o=e.toggleLeaderboardPopup;return Object(g.jsx)("div",{children:Object(g.jsx)(x.a,{dark:!0,expand:"md header",children:Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)(w.a,{className:"mr-auto",children:"TO-Do List"}),Object(g.jsxs)(S.a,{navbar:!0,children:[Object(g.jsxs)(k.a,{navbar:!0,className:"headeritem",children:[Object(g.jsx)(P.a,{children:Object(g.jsxs)(T.c,{className:"nav-link",to:"/To-Do-List-App/home",onClick:function(){return t(!1)},children:[Object(g.jsx)("span",{className:"fa fa-home fa-sm"})," Home"]})}),Object(g.jsx)(P.a,{children:Object(g.jsxs)(T.c,{className:"nav-link",to:"/To-Do-List-App/completed-task",onClick:function(){return t(!0)},children:[Object(g.jsx)("span",{className:"fa fa-list fa-sm"})," Completed-Tasks"]})})]}),Object(g.jsx)(k.a,{className:"ml-auto",navbar:!0,children:this.props.userInfo.userName&&""!==this.props.userInfo.userName?Object(g.jsxs)(I.a,{title:Object(g.jsx)("span",{className:"text-white",children:this.props.userInfo.userName}),children:[Object(g.jsx)(I.a.Item,{children:"About To-Do List"}),Object(g.jsx)(I.a.Item,{onClick:function(){return o()},children:"Leaderboard"}),Object(g.jsx)(I.a.Item,{onClick:function(){return n()},children:"Logout"})]}):Object(g.jsxs)(k.a,{navbar:!0,children:[Object(g.jsx)(P.a,{children:Object(g.jsx)(T.c,{className:"nav-link fa fa-sign-in fa-sm",to:"",onClick:function(){return a()},children:" Sign-in"})}),Object(g.jsx)(P.a,{children:Object(g.jsx)(T.c,{className:"nav-link fa fa-list-alt  fa-sm",to:"",onClick:function(){return s()},children:" Sign-up"})})]})})]})]})})})}}]),a}(n.a.Component)),y=a(13),C=a(54),L=a(116),V=a(117),E=function(e){return e&&e.length},A=function(e,t){return!e||e.length<=t},D=function(e,t){return e&&e.length>=t},M=function(e){return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)},F=function(e,t){return e===t},U=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleSubmit=function(e){if(D(s.state.task,1)){var t=s.props,a=t.addToDo,n=t.userInfo;a({userId:Date.now(),userName:n.userName,userEmail:n.userEmail,task:s.state.task,status:"pending",dateCreated:Date.now()})}else s.setState({taskValid:D(s.state.task,1)})},s.onTaskchange=function(e){var t;s.setState((t={},Object(y.a)(t,e.target.name,e.target.value),Object(y.a)(t,"taskValid",D(e.target.value,1)),t))},s.state={task:"",taskValid:!0},s}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(C.a,{children:[Object(g.jsxs)(C.a.Group,{controlId:"formTask",children:[Object(g.jsx)(C.a.Label,{children:"Task Detail"}),Object(g.jsx)(L.a,{invalid:!this.state.taskValid,type:"task",name:"task",id:"task",maxLength:30,placeholder:"Enter task name.",value:this.state.task,onChange:this.onTaskchange}),Object(g.jsx)(V.a,{children:"Task can't be empty."})]}),Object(g.jsx)(T.b,{onClick:this.handleSubmit,children:"Add"})]})}}]),a}(s.Component),H=a(121),B=a(70),G=a(118),W=a(119),z=a(29),K=(a(103),a(104),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).appTokenKey="appToken",s.handleSignin=function(){s.validateForm(),s.state.emailValid&&s.state.passwordValid&&(O.a.auth().signInWithEmailAndPassword(s.state.email,s.state.password).then((function(e){s.authSuccess()})).catch((function(e){localStorage.removeItem("firebaseAuthInProgress"),"auth/wrong-password"===e.code&&(s.shareToast("Password is invalid, Try again!"),s.setState({passwordValid:!1}))})),localStorage.setItem("firebaseAuthInProgress","1"))},s.validateForm=function(){s.setState({emailValid:M(s.state.email),passwordValid:E(s.state.password)})},s.authSuccess=function(){v.collection("User").where("userEmail","==",s.state.email).get().then((function(e){var t=e.docs.map((function(e){var t=e.data();return{userName:t.userName,userEmail:t.userEmail,userId:t.userId}}));s.props.updateUserInfo(t[0]),localStorage.removeItem("firebaseAuthInProgress"),localStorage.setItem(s.appTokenKey,t.userId),s.props.updateContent(),s.props.toggleSigninPopup()}))},s.shareToast=function(e){return Object(z.a)(e)},s.onEmailchange=function(e){var t;s.setState((t={},Object(y.a)(t,e.target.name,e.target.value),Object(y.a)(t,"emailValid",M(e.target.value)),t))},s.onPasswordchange=function(e){var t;s.setState((t={},Object(y.a)(t,e.target.name,e.target.value),Object(y.a)(t,"passwordValid",E(e.target.value)),t))},s.state={email:"",password:"",emailValid:!0,passwordValid:!0},s.handleGoogleLogin=s.handleGoogleLogin.bind(Object(m.a)(s)),s.authSuccess=s.authSuccess.bind(Object(m.a)(s)),s.handleSignin=s.handleSignin.bind(Object(m.a)(s)),s}return Object(c.a)(a,[{key:"handleGoogleLogin",value:function(){this.loginWithGoogle().then((function(e){})).catch((function(e){alert(e),localStorage.removeItem("firebaseAuthInProgress")})),localStorage.setItem("firebaseAuthInProgress","1"),this.props.toggleSigninPopup()}},{key:"loginWithGoogle",value:function(){var e=new O.a.auth.GoogleAuthProvider;return O.a.auth().signInWithPopup(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.showSigninPopup,s=t.toggleSigninPopup;return z.a.configure(),Object(g.jsxs)(H.a,{show:a,onHide:function(){return s()},children:[Object(g.jsx)(H.a.Header,{closeButton:!0,children:Object(g.jsx)(H.a.Title,{children:"Signin"})}),Object(g.jsxs)(H.a.Body,{children:[Object(g.jsxs)(G.a,{children:[Object(g.jsx)(W.a,{for:"email",className:"label",children:"Email:"}),Object(g.jsx)(L.a,{invalid:!this.state.emailValid,type:"email",name:"email",id:"email",placeholder:"Enter your email here...",value:this.state.email,onChange:this.onEmailchange}),Object(g.jsx)(V.a,{children:"Not a valid Email address"})]}),Object(g.jsxs)(G.a,{children:[Object(g.jsx)(W.a,{for:"password",className:"label",children:"Password:"}),Object(g.jsx)(L.a,{invalid:!this.state.passwordValid,type:"password",name:"password",id:"password",placeholder:"Enter your password here...",value:this.state.password,onChange:this.onPasswordchange}),Object(g.jsx)(V.a,{children:"This password is not correct."})]}),Object(g.jsxs)("p",{className:"link",children:["Having issues with sign in ",Object(g.jsx)(T.b,{onClick:function(){return e.shareToast("You can create a new user using the sign-up form.")},children:"Info?"})]})]}),Object(g.jsxs)(H.a.Footer,{children:[Object(g.jsx)(B.a,{variant:"outline-success",onClick:this.handleSignin.bind(this),children:"Sign-in"}),Object(g.jsx)(B.a,{variant:"outline-primary",onClick:this.handleGoogleLogin.bind(this),children:"Continue with Google"})]})]})}}]),a}(n.a.Component)),Y=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).shareToast=function(e){return Object(z.a)(e)},e.onNamechange=function(t){var a;e.setState((a={},Object(y.a)(a,t.target.name,t.target.value),Object(y.a)(a,"nameValid",D(t.target.value,3)&&A(t.target.value,12)),a))},e.onEmailchange=function(t){var a;e.setState((a={},Object(y.a)(a,t.target.name,t.target.value),Object(y.a)(a,"emailValid",M(t.target.value)),a))},e.onPasswordchange=function(t){var a;e.setState((a={},Object(y.a)(a,t.target.name,t.target.value),Object(y.a)(a,"passwordValid",D(t.target.value,6)&&A(t.target.value,10)),a))},e.onConfirmPasswordchange=function(t){var a;e.setState((a={},Object(y.a)(a,t.target.name,t.target.value),Object(y.a)(a,"confirmPasswordValid",F(e.state.password,t.target.value)),a))},e.registerUser=function(){e.validateForm(),e.state.nameValid&&e.state.emailValid&&e.state.passwordValid&&e.state.confirmPasswordValid&&(O.a.auth().createUserWithEmailAndPassword(e.state.email,e.state.password).then((function(){return e.authSuccess()})).catch((function(){e.shareToast("User registration failed!")})),e.props.toggleLoadingMode(),e.props.toggleSignupPopup())},e.authSuccess=function(){var t={userName:e.state.name,userEmail:e.state.email,userId:Date.now(),userScore:0,creationDate:Date.now(),lastActiveDate:Date.now()};v.collection("User").doc(t.userId.toString()).set(t).then((function(){e.props.toggleLoadingMode()})).catch((function(e){console.error("Error writing document: ",e)}))},e.validateForm=function(){e.setState({nameValid:D(e.state.name,3)&&A(e.state.name,12),emailValid:M(e.state.email),passwordValid:D(e.state.password,6)&&A(e.state.password,10),confirmPasswordValid:F(e.state.password,e.state.confirmpassword)})},e.state={name:"",email:"",password:"",confirmpassword:"",nameValid:!0,emailValid:!0,passwordValid:!0,confirmPasswordValid:!0},e.onNamechange=e.onNamechange.bind(Object(m.a)(e)),e.registerUser=e.registerUser.bind(Object(m.a)(e)),e.authSuccess=e.authSuccess.bind(Object(m.a)(e)),e.validateForm=e.validateForm.bind(Object(m.a)(e)),e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.showSignupPopup,a=e.toggleSignupPopup;return z.a.configure(),Object(g.jsxs)(H.a,{show:t,onHide:function(){return a()},children:[Object(g.jsx)(H.a.Header,{closeButton:!0,children:Object(g.jsx)(H.a.Title,{children:"Signup"})}),Object(g.jsxs)(H.a.Body,{children:[Object(g.jsxs)(G.a,{children:[Object(g.jsx)(W.a,{for:"name",children:"Name:"}),Object(g.jsx)(L.a,{invalid:!this.state.nameValid,type:"name",name:"name",id:"name",placeholder:"Enter your name here...",value:this.state.name,onChange:this.onNamechange}),Object(g.jsx)(V.a,{children:"Name of at least 3 & at most 12 character is required"})]}),Object(g.jsxs)(G.a,{children:[Object(g.jsx)(W.a,{for:"email",className:"label",children:"Email:"}),Object(g.jsx)(L.a,{invalid:!this.state.emailValid,type:"email",name:"email",id:"email",placeholder:"Enter your email here...",value:this.state.email,onChange:this.onEmailchange}),Object(g.jsx)(V.a,{children:"Not a valid Email address"})]}),Object(g.jsxs)(G.a,{children:[Object(g.jsx)(W.a,{for:"password",className:"label",children:"Password:"}),Object(g.jsx)(L.a,{invalid:!this.state.passwordValid,type:"password",name:"password",id:"password",placeholder:"Enter your password here...",value:this.state.password,onChange:this.onPasswordchange}),Object(g.jsx)(V.a,{children:"Password of at least 6 & at most 10 character is Required"})]}),Object(g.jsxs)(G.a,{children:[Object(g.jsx)(W.a,{for:"confirmpassword",className:"label",children:"Confirm Password:"}),Object(g.jsx)(L.a,{invalid:!this.state.confirmPasswordValid,type:"password",name:"confirmpassword",id:"confirmpassword",placeholder:"Confirm your password...",value:this.state.confirmpassword,onChange:this.onConfirmPasswordchange}),Object(g.jsx)(V.a,{children:"Password doesn't match"})]})]}),Object(g.jsx)(H.a.Footer,{children:Object(g.jsx)(B.a,{variant:"outline-success",onClick:this.registerUser,children:"Sign-up"})})]})}}]),a}(s.Component),R=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.showLeaderboardPopup,a=e.toggleLeaderboardPopup;return Object(g.jsxs)(H.a,{show:t,onHide:function(){return a()},children:[Object(g.jsx)(H.a.Header,{closeButton:!0,children:Object(g.jsx)(H.a.Title,{children:"Leaderboard"})}),Object(g.jsx)(H.a.Body,{children:Object(g.jsxs)("div",{children:[Object(g.jsxs)("h5",{children:["Great you have scored - ",3*this.props.data.length," To-Doist points."]}),Object(g.jsx)("h9",{children:"In the next release, you will be able to see the leadership board."})]})})]})}}]),a}(s.Component),Z=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsxs)("div",{className:"col-12 todo-list",children:[Object(g.jsx)("span",{className:"fa fa-spinner fa-pulse fa-3x fa-fw text-primary"}),Object(g.jsx)("p",{children:"Loading data from firebase . . ."})]})}}]),a}(s.Component),q=(a(105),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).toggleCompletedTaskMode=function(t){return e.setState({completedTaskMode:t})},e.toggleShowTaskFormMode=function(t){return e.setState({showTaskForm:t})},e.updateUserInfo=function(t){return e.setState({userInfo:t})},e.toggleSigninPopup=function(){return e.setState({showSigninPopup:!e.state.showSigninPopup})},e.toggleSignupPopup=function(){return e.setState({showSignupPopup:!e.state.showSignupPopup})},e.toggleLeaderboardPopup=function(){return e.setState({showLeaderboardPopup:!e.state.showLeaderboardPopup})},e.toggleLoadingMode=function(){return e.setState({isLoading:!e.state.isLoading})},e.shareToast=function(e){return Object(z.a)(e)},e.handleLogOut=function(){e.toggleLoadingMode(),O.a.auth().signOut().then(function(){localStorage.removeItem("appToken");this.updateUserInfo({userName:"",userEmail:"",userId:""}),this.toggleLoadingMode()}.bind(Object(m.a)(e)))},e.updateContent=Object(j.a)(p.a.mark((function t(){var a,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.collection("ToDoList").get();case 2:a=t.sent,s=a.docs.map((function(e){var t=e.data();return{userId:t.userId,task:t.task,userEmail:t.userEmail,status:t.status,userName:t.userName}})),e.setState({todos:s,isLoading:!1});case 5:case"end":return t.stop()}}),t)}))),e.addTodo=function(t){v.collection("ToDoList").doc(t.userId.toString()).set(t).then((function(){var a=e.state.todos;a.push(t),e.setState({todos:a,showTaskForm:!1})})).catch((function(e){console.error("Error writing document: ",e)}))},e.handleChange=function(t){var a=e.state.todos;v.collection("ToDoList").doc(t.toString()).update({status:"completed"}).then((function(){var s=a.map((function(e){return e.userId===t?Object(u.a)(Object(u.a)({},e),{},{status:"completed"}):e}));e.setState({todos:s});var n=e.state.userInfo.userName&&e.state.userInfo.userName?"Congratulations! you have earned 3 To-Do List points.":"Uh oh! you missed a chance to earn To-Do List points. Sign-in now to save points";e.shareToast(n)}))},e.showHeaderText=function(e){return Object(g.jsxs)("h3",{children:[" ",e," "]})},e.showTaskForm=function(){return Object(g.jsx)(U,Object(u.a)({addToDo:e.addTodo.bind(Object(m.a)(e))},e.state))},e.state={todos:[],showTaskForm:!1,userInfo:{userName:"",userEmail:"",userId:""},isLoading:!0,userScore:-1,completedTaskMode:!1,showSigninPopup:!1,showSignupPopup:!1,showLeaderboardPopup:!1,releaseVersion:"1.0"},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.updateContent(),O.a.auth().onAuthStateChanged((function(e){if(e){localStorage.removeItem("firebaseAuthInProgress"),localStorage.setItem(t.appTokenKey,e.uid);var a={userName:e.displayName,userEmail:e.email,userId:e.email};t.updateUserInfo(a)}}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.completedTaskMode,s=t.showTaskForm,n=t.todos,o=t.userInfo,r=n.filter((function(e){return"completed"===e.status&&e.userEmail===o.userEmail})).map((function(t){return Object(g.jsx)(b,{item:t,handleChange:e.handleChange},t.userId)})),i=n.filter((function(e){return"pending"===e.status&&e.userEmail===o.userEmail})).map((function(t){return Object(g.jsx)(b,{item:t,handleChange:e.handleChange},t.userId)})),c=o.userName&&""!==o.userName?o.userName:"there";return z.a.configure(),Object(g.jsxs)("div",{children:[Object(g.jsx)(N,Object(u.a)({toggleCompletedTaskMode:this.toggleCompletedTaskMode,toggleSigninPopup:this.toggleSigninPopup,toggleSignupPopup:this.toggleSignupPopup,toggleLeaderboardPopup:this.toggleLeaderboardPopup,handleLogOut:this.handleLogOut},this.state)),Object(g.jsx)(K,Object(u.a)(Object(u.a)({toggleSigninPopup:this.toggleSigninPopup,toggleLoadingMode:this.toggleLoadingMode,updateContent:this.updateContent},this.state),{},{updateUserInfo:this.updateUserInfo})),Object(g.jsx)(Y,Object(u.a)({toggleSignupPopup:this.toggleSignupPopup,toggleLoadingMode:this.toggleLoadingMode,updateUserInfo:this.updateUserInfo},this.state)),Object(g.jsx)(R,Object(u.a)({toggleLeaderboardPopup:this.toggleLeaderboardPopup,data:r},this.state)),this.state.isLoading?Object(g.jsx)(Z,{}):Object(g.jsxs)("div",{children:[a?Object(g.jsxs)("div",{className:"todo-list",children:[this.showHeaderText("Woo Hoo, You have completed following tasks!"),Object(g.jsx)("div",{className:"scroll-div",children:r})]}):Object(g.jsxs)("div",{className:"todo-list",children:[this.showHeaderText("Hey "+c+", what's on your mind today?"),Object(g.jsx)("div",{className:"scroll-div",children:i}),s&&this.showTaskForm(),Object(g.jsx)("div",{className:"todo-link",children:Object(g.jsx)(T.b,{onClick:function(){return e.toggleShowTaskFormMode(!0)},children:"Add Task"})})]})," "]})]})}}]),a}(s.Component)),J=a(12),$=(a(106),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsx)(T.a,{children:Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)(J.d,{children:[Object(g.jsx)(J.b,{exact:!0,path:"/To-Do-List-App",component:q}),Object(g.jsx)(J.b,{exact:!0,path:"/",component:q}),Object(g.jsx)(J.b,{exact:!0,path:"/To-Do-List-App/home",component:q}),Object(g.jsx)(J.b,{exact:!0,path:"/To-Do-List-App/completed-task",component:q}),Object(g.jsx)(J.a,{to:"/To-Do-List-App/home"})]})})})}}]),a}(n.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)($,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},75:function(e,t,a){},77:function(e,t,a){}},[[107,1,2]]]);
//# sourceMappingURL=main.2a627e92.chunk.js.map